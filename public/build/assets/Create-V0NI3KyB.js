import{r as g,W as j,j as e}from"./app-9BfIP8Yt.js";import{M as N}from"./Modal-DTHE29Ut.js";import{L as s,I as l}from"./input-B6LatCgn.js";import{A as y}from"./react-select-async.esm-3sqDmmp1.js";import{B as m}from"./button-UluEiDe7.js";import{S as w}from"./react-select.esm-R1G1BB6e.js";import"./transition-6Z6DAD7I.js";import"./index-CzvjeGZW.js";import"./utils-BSdE8tDE.js";import"./useStateManager-7e1e8489.esm-9tTtCMRh.js";function E({p_plants:u}){const[h,i]=g.useState(!1),{data:r,setData:t,post:x,processing:p,reset:n,errors:_}=j({mat_code:"",plant:"",currency:"PHP",valuation_price:0,per_unit:1,valid_from:"",valid_to:""}),f=a=>{a.preventDefault(),x(route("val_price.store"),{preserveScroll:!0,onSuccess:()=>o(),onFinish:()=>n()})},o=()=>{i(!1),n()},v=async a=>{if(!a)return[];try{return(await window.axios.get(route("material.search",{search:a}))).data.data.map(c=>({value:c.mat_code,label:`${c.mat_code} - ${c.mat_desc}`}))}catch(d){return console.log("Error fetching data:",d),[]}};return e.jsxs("section",{className:"space-y-6",children:[e.jsx(m,{onClick:()=>i(!0),children:"Add"}),e.jsx(N,{show:h,onClose:o,maxWidth:"lg",children:e.jsx("form",{onSubmit:f,children:e.jsxs("div",{className:"m-2",children:[e.jsxs("div",{className:"flex ",children:[e.jsx(s,{className:"p-3 w-3/12 text-sm content-center text-right",htmlFor:"plant",children:"Plant"}),e.jsx(w,{id:"plant",className:"m-2 w-full border-gray-500",value:r.plantChoice,options:u,onChange:a=>t({...r,plant:a==null?void 0:a.value,plantChoice:a}),placeholder:"Select Plant",required:!0})]}),e.jsxs("div",{className:"flex ",children:[e.jsx(s,{className:"p-3 w-3/12 text-sm content-center text-right",htmlFor:"material",children:"Material"}),e.jsx(y,{className:"m-2 w-full border-gray-500",cacheOptions:!0,defaultOptions:!0,loadOptions:v,value:r.mat_codeChoice,onChange:a=>{t({...r,mat_code:a==null?void 0:a.value,mat_codeChoice:a})},placeholder:"Select Material",required:!0})]}),e.jsxs("div",{className:"flex ",children:[e.jsx(s,{className:"p-3 w-3/12 text-sm content-center text-right",htmlFor:"currency",children:"Currency"}),e.jsx(l,{className:"m-2 w-full border-gray-300 h-10 ",type:"text",id:"currency",defaultValue:r.currency,onChange:a=>t("currency",a.target.value)})]}),e.jsxs("div",{className:"flex ",children:[e.jsx(s,{className:"p-3 w-3/12 text-sm content-center text-right",htmlFor:"price",children:"Price"}),e.jsx(l,{className:"m-2 w-full border-gray-300 h-10 ",type:"number",id:"price",defaultValue:r.valuation_price,onChange:a=>t("valuation_price",parseFloat(a.target.value)),required:!0})]}),e.jsxs("div",{className:"flex ",children:[e.jsx(s,{className:"p-3 w-3/12 text-sm content-center text-right",htmlFor:"price",children:"Per Unit"}),e.jsx(l,{className:"m-2 w-full border-gray-300 h-10 ",type:"number",id:"price",defaultValue:r.per_unit,onChange:a=>t("per_unit",parseFloat(a.target.value)),required:!0})]}),e.jsxs("div",{className:"flex ",children:[e.jsx(s,{className:"p-3 w-1/5 text-sm content-center text-right",htmlFor:"validFrom",children:"Valid From"}),e.jsx(l,{className:"m-2 w-4/12 border-gray-300 h-10 ",type:"date",id:"validFrom",defaultValue:r.valid_from,onChange:a=>t("valid_from",a.target.value),required:!0})]}),e.jsxs("div",{className:"flex ",children:[e.jsx(s,{className:"p-3 w-1/5 text-sm content-center text-right",htmlFor:"validTo",children:"Valid To"}),e.jsx(l,{className:"m-2 w-4/12 border-gray-300 h-10 ",type:"date",id:"validTo",defaultValue:r.valid_to,onChange:a=>t("valid_to",a.target.value),required:!0})]}),e.jsx("div",{className:"grid justify-items-center m-3",children:e.jsx(m,{variant:"outline",disabled:p,className:"bg-[#f8c110]  hover:border-gray-500 hover:bg-[#f8c110] w-60",children:"Save"})})]})})})]})}export{E as default};
